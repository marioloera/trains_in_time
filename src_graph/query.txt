# Trains running through TPE tampere
{
  trainsByDepartureDate(
    departureDate: "2022-03-16",
    where: {and: [
      	{timeTableRows:{contains:{station:{shortCode:{equals:"TPE"}}}}},
        {timeTableRows:{contains:{station:{shortCode:{equals:"HKI"}}}}},
      	{trainNumber:{equals:45}},
      	#{trainType:{name:{equals:"s"}}} # was not founded
    	]
  	}
    ) {
    trainNumber
    departureDate
    trainType {name}
    timeTableRows
    (
      where: {and: [
        {type:{equals:"ARRIVAL"}},
        {trainStopping:{equals:true}},
        {station:{shortCode:{equals:"TPE"}}}
      	]
    	}
  	)
    {
      actualTime
      differenceInMinutes
      station {
        shortCode
     }
    }
  }
}
